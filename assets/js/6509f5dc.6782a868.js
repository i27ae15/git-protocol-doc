"use strict";(self.webpackChunkgit_protocol=self.webpackChunkgit_protocol||[]).push([[289],{1331:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"git-protocol/discovering-references","title":"1. Discovering References","description":"The first step on the git protocol is to stablish the tell the server side tha will want to know the state of git","source":"@site/docs/git-protocol/discovering-references.md","sourceDirName":"git-protocol","slug":"/git-protocol/discovering-references","permalink":"/git-protocol-doc/docs/git-protocol/discovering-references","draft":false,"unlisted":false,"editUrl":"https://github.com/i27ae15/git-protocol-doc/docs/git-protocol/discovering-references.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"GIT-Protocol","permalink":"/git-protocol-doc/docs/git-protocol/intro"},"next":{"title":"2. Git-Upload Service","permalink":"/git-protocol-doc/docs/git-protocol/git-upload"}}');var n=o(4848),r=o(8453);const s={sidebar_position:2},c="1. Discovering References",a={},l=[{value:"Example:",id:"example",level:3}];function d(e){const t={code:"code",h1:"h1",h3:"h3",header:"header",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"1-discovering-references",children:"1. Discovering References"})}),"\n",(0,n.jsxs)(t.p,{children:["The first step on the git protocol is to stablish the tell the server side tha will want to know the state of git\nat their end, we do this by making a ",(0,n.jsx)(t.code,{children:"get"})," request to the server."]}),"\n",(0,n.jsxs)(t.p,{children:["We can achieve this by request the reference to the following url: ",(0,n.jsx)(t.code,{children:"/info/refs?service=git-upload-pack"}),"."]}),"\n",(0,n.jsx)(t.p,{children:"There are some other parameters that can be sent in other to request more information, please refers to the technical\ndocumentation on git."}),"\n",(0,n.jsx)(t.p,{children:"This will make git send the reference file, where we will have some sort of information of the current state."}),"\n",(0,n.jsx)(t.h3,{id:"example",children:"Example:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{children:"0000015547b37f1a82bfe85f6d8df52b6258b75e4343b7fd HEADmulti_ack thin-pack side-band side-band-64k ofs-delta shallow deepen-since deepen-not deepen-relative no-progress include-tag multi_ack_detailed allow-tip-sha1-in-want allow-reachable-sha1-in-want no-done symref=HEAD:refs/heads/master filter object-format=sha1 agent=git/github-8e2ff7c5586f\n"})}),"\n",(0,n.jsx)(t.p,{children:"The most important piece of information we can obtain here is the head sha1, which is:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{children:"SHA1_HEAD = 47b37f1a82bfe85f6d8df52b6258b75e4343b7fd\n"})}),"\n",(0,n.jsx)(t.p,{children:"This is the sha1 pointing to the head pack file."})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},8453:(e,t,o)=>{o.d(t,{R:()=>s,x:()=>c});var i=o(6540);const n={},r=i.createContext(n);function s(e){const t=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:s(e.components),i.createElement(r.Provider,{value:t},e.children)}}}]);